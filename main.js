(()=>{"use strict";var t={208:(t,e,n)=>{n.d(e,{A:()=>a});var s=n(601),r=n.n(s),o=n(314),i=n.n(o)()(r());i.push([t.id,"* {\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    font-size: 1.125rem;\n    font-family: Arial, Helvetica, sans-serif;\n}\n\nul {\n    list-style: none;\n}\n\n\n\nbutton {\n    display: block;\n    width: 100%;\n    text-align: left;\n    background-color: inherit;\n    font: inherit;\n    border: none;\n    padding: 0.5rem;\n    cursor: pointer;\n}\n\nbutton span {\n    font-weight: bolder;\n    margin-right: 10px;\n}\n\nbutton:hover,\n.selected {\n    background-color: #cccccc;\n}\n\n.container {\n    display: flex;\n    min-height: 100vh;\n\n}\n\n.projects {\n    background-color: #fcfaf8;\n    flex: 1;\n    padding: 1rem;\n}\n\n.projects > * {\n    margin-bottom: 1rem;\n}\n\n.project {\n    display: flex;\n    justify-content: space-between;\n    gap: 10px;\n}\n\n.project .delete-project {\n    display: none;\n}\n\n.project:hover .delete-project {\n    display: block;\n}\n\n.project-form {\n    display: none;\n}\n\n.project-form > * {\n    margin-bottom: 0.5rem;\n}\n\n.project-form input {\n    border: 1px solid black;\n\n    padding: 5px 10px;\n}\n\n.project-form .controls {\n    gap: 10px;\n}\n\n.tasks {\n    flex: 4;\n    padding: 1rem;\n}\n\n.task.done h3,\n.task.done p {\n    text-decoration: line-through;\n}\n\n.tasks > * {\n    margin-bottom: 1rem;\n}\n\n.task.done {\n    background-color: #e0e0e0;\n}\n\n.task.done h3,\n.task.done p {\n    text-decoration: line-through;\n}\n\n.task > *:not(:last-child) {\n    margin-bottom: 1rem;\n}\n\n.task:not(:last-child) {\n    margin-bottom: 1rem;\n}\n\n#addTask {\n    max-width: 500px;\n}\n\n.task-form {\n    max-width: 500px;\n    border: 2px solid #d2d2d2;\n    display: none;\n    padding-inline: 0.5rem;\n}\n\n.task-form > div:not(:last-child) {\n    margin-bottom: 1rem;\n}\n\ninput {\n    font: inherit;\n    border: none;\n    width: 100%;\n}\ninput:focus {\n    outline: none;\n}\n\ntextarea {\n    font: inherit;\n    width: 100%;\n    resize: none;\n}\n\n.date {\n    display: flex;\n}\n.date > * {\n    flex: 1;\n}\n\n.controls {\n    display: flex;\n    gap: 3rem;\n}\n\n.controls button {\n    text-align: center;\n}\n\n.task-container {\n    max-width: 500px;\n}\n\n.task {\n    border: 2px solid #d2d2d2;\n    padding: 0.5rem;\n}\n\n\n\n.priority {\n    display: flex;\n    align-items: center;\n}\n\n.priority > * {\n    flex: 1;\n}\n\nselect {\n    font: inherit;\n    flex: 1;\n}\n\n",""]);const a=i},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",s=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),s&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),s&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,s,r,o){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(s)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(i[c]=!0)}for(var d=0;d<t.length;d++){var l=[].concat(t[d]);s&&i[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},601:t=>{t.exports=function(t){return t[1]}},72:t=>{var e=[];function n(t){for(var n=-1,s=0;s<e.length;s++)if(e[s].identifier===t){n=s;break}return n}function s(t,s){for(var o={},i=[],a=0;a<t.length;a++){var c=t[a],d=s.base?c[0]+s.base:c[0],l=o[d]||0,p="".concat(d," ").concat(l);o[d]=l+1;var u=n(p),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)e[u].references++,e[u].updater(h);else{var m=r(h,s);s.byIndex=a,e.splice(a,0,{identifier:p,updater:m,references:1})}i.push(p)}return i}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var o=s(t=t||[],r=r||{});return function(t){t=t||[];for(var i=0;i<o.length;i++){var a=n(o[i]);e[a].references--}for(var c=s(t,r),d=0;d<o.length;d++){var l=n(o[d]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}o=c}}},659:t=>{var e={};t.exports=function(t,n){var s=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var s="";n.supports&&(s+="@supports (".concat(n.supports,") {")),n.media&&(s+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(s+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),s+=n.css,r&&(s+="}"),n.media&&(s+="}"),n.supports&&(s+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(s,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(s){var r=e[s];if(void 0!==r)return r.exports;var o=e[s]={id:s,exports:{}};return t[s](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0;var s=n(72),r=n.n(s),o=n(825),i=n.n(o),a=n(659),c=n.n(a),d=n(56),l=n.n(d),p=n(540),u=n.n(p),h=n(113),m=n.n(h),f=n(208),g={};g.styleTagTransform=m(),g.setAttributes=l(),g.insert=c().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=u(),r()(f.A,g),f.A&&f.A.locals&&f.A.locals;class k{static createProject(t){const e=document.createElement("button");e.classList.add("project"),e.dataset.id=t.id,e.textContent=t.name;const n=document.createElement("div");return n.classList.add("delete-project"),n.textContent="X",e.appendChild(n),e}static createTask(t){const e=document.createElement("div");e.classList.add("task"),t.isDone&&e.classList.add("done"),e.dataset.id=t.id;const n=document.createElement("h3");n.textContent=t.title;const s=document.createElement("p");s.textContent=t.description;const r=document.createElement("div");r.classList.add("date");const o=document.createElement("div");o.textContent="Due Date: ";const i=document.createElement("div");i.textContent=t.dueDate||"No Date",r.appendChild(o),r.appendChild(i);const a=document.createElement("div");a.classList.add("priority");const c=document.createElement("div");c.textContent="Priority: ";const d=document.createElement("div");d.textContent=t.priority,a.appendChild(c),a.appendChild(d);const l=document.createElement("div");l.classList.add("controls");const p=document.createElement("button");p.textContent=t.isDone?"Mark as undone":"Mark as done",p.classList.add("toggle");const u=document.createElement("button");return u.textContent="Delete",u.classList.add("delete"),l.appendChild(p),l.appendChild(u),e.appendChild(n),e.appendChild(s),e.appendChild(r),e.appendChild(a),e.appendChild(l),e}static createAllTasks(t){const e=this.createTask(t);return e.querySelector("h3").textContent+=` (${t.originProjectName})`,e}static createAllTasksProject(t){const e=this.createProject(t);return e.querySelector(".delete-project").remove(),e.classList.add("all-project"),e}static applySelectedStyle(t){document.querySelectorAll(".project").forEach((t=>t.classList.remove("selected"))),t.classList.add("selected")}}class y{constructor(t,e,n,s,r){this.title=t,this.description=e,this.dueDate=n,this.priority=s,this.originProjectName=r,this.isDone=!1,this.id=Date.now()}toggleIsTaskDone(){this.isDone=!this.isDone}}class j{constructor(t){this.name=t,this.tasks=[],this.id=Date.now()}addTask(t){return!this.tasks.some((e=>e.title===t.title))&&(this.tasks.push(t),!0)}getTask(t){return this.tasks.find((e=>e.id===t))||null}deleteTask(t){this.tasks=this.tasks.filter((e=>e.id!==t))}}class v{static saveTodoList(t){localStorage.setItem("todoList",JSON.stringify(t))}static getTodoList(){const t=localStorage.getItem("todoList");if(!t)return null;const e=Object.assign(new T,JSON.parse(t));return e.projects=e.projects.map((t=>Object.assign(new j,t))),e.projects.forEach((t=>{t.tasks=t.tasks.map((t=>Object.assign(new y,t)))})),e}}class T{static allTasksProjectID=0;constructor(){this.projects=[]}addProject(t){return!this.projects.some((e=>e.name===t.name))&&(this.projects.push(t),v.saveTodoList(this),!0)}getProject(t){return this.projects.find((e=>e.id===t))||null}deleteProject(t){this.projects=this.projects.filter((e=>e.id!==t)),v.saveTodoList(this)}addTask(t,e){return!!this.getProject(e).addTask(t)&&(v.saveTodoList(this),!0)}getTask(t){for(const e of this.projects){const n=e.getTask(t);if(n)return n}return null}deleteTask(t){for(const e of this.projects)e.getTask(t)&&(e.deleteTask(t),v.saveTodoList(this))}toggleIsTaskDone(t){for(const e of this.projects){const n=e.getTask(t);n&&(n.toggleIsTaskDone(),v.saveTodoList(this))}}}new class{constructor(){this.initializeTodoList(),this.renderProjects(),this.renderTasks(),k.applySelectedStyle(this.getCurrentProjectElement()),this.bindEventListeners()}initializeTodoList(){v.getTodoList()?(this.todoList=v.getTodoList(),this.allTasksProject=this.todoList.getProject(T.allTasksProjectID)):(this.todoList=new T,this.allTasksProject=new j("All Tasks"),this.allTasksProject.id=T.allTasksProjectID,this.todoList.projects.push(this.allTasksProject)),this.currentProject=this.allTasksProject}getTaskFormData(t){return new FormData(t)}switchFormVisibility(t){const e=document.getElementById("addTask"),n=document.getElementById("addProject");"block"===getComputedStyle(t).display?(t.style.display="none",e.style.display="block",n.style.display="block"):(t.style.display="block",e.style.display="none",n.style.display="none")}renderCurrentProjectTasks(){const t=document.querySelector(".task-container");t.innerHTML="",this.currentProject.tasks.forEach((e=>{t.appendChild(k.createTask(e))}))}renderAllTasks(){const t=document.querySelector(".task-container");t.innerHTML="",this.todoList.projects.forEach((e=>{e.tasks.forEach((e=>{t.appendChild(k.createAllTasks(e))}))}))}renderTasks(){this.currentProject===this.allTasksProject?this.renderAllTasks():this.renderCurrentProjectTasks()}renderProjects(){const t=document.querySelector(".project-container");t.innerHTML="",this.todoList.projects.forEach((e=>{e===this.allTasksProject?t.appendChild(k.createAllTasksProject(e)):t.appendChild(k.createProject(e))}))}getCurrentProjectElement(){return document.querySelector(".project-container").querySelector(`[data-id="${this.currentProject.id}"]`)}bindEventListeners(){const t=document.getElementById("addProject"),e=document.getElementById("addTask"),n=document.getElementById("cancelProject"),s=document.getElementById("cancelTask"),r=document.querySelector(".project-form"),o=document.querySelector(".task-form"),i=document.querySelector(".project-container"),a=document.querySelector(".task-container");t.addEventListener("click",(()=>this.switchFormVisibility(r))),n.addEventListener("click",(()=>this.switchFormVisibility(r))),e.addEventListener("click",(()=>this.switchFormVisibility(o))),s.addEventListener("click",(()=>this.switchFormVisibility(o))),r.addEventListener("submit",(t=>{t.preventDefault();const e=this.getTaskFormData(r),n=new j(e.get("name"));this.todoList.addProject(n)?(this.currentProject=n,this.renderProjects(),this.renderTasks(),r.reset(),this.switchFormVisibility(r),k.applySelectedStyle(this.getCurrentProjectElement())):alert("Duplicate project name\nTry different name")})),o.addEventListener("submit",(t=>{t.preventDefault();const e=this.getTaskFormData(o),n=new y(e.get("title"),e.get("description"),e.get("dueDate"),e.get("priority"),this.currentProject.name);this.todoList.addTask(n,this.currentProject.id)?(this.renderTasks(),o.reset(),this.switchFormVisibility(o)):alert("Duplicate task name in the same project.\nTry different name")})),i.addEventListener("click",(t=>{if(t.target.classList.contains("project")&&!t.target.classList.contains("selected")){const e=t.target.dataset.id;this.currentProject=this.todoList.getProject(Number(e)),this.renderTasks(),k.applySelectedStyle(t.target)}else if(t.target.classList.contains("delete-project")){const e=t.target.parentElement,n=e.dataset.id;this.todoList.deleteProject(Number(n)),e.classList.contains("selected")&&(this.currentProject=this.todoList.getProject(Number(e.previousElementSibling.dataset.id))),this.renderProjects(),this.renderTasks(),k.applySelectedStyle(this.getCurrentProjectElement())}})),a.addEventListener("click",(t=>{if("toggle"===t.target.className){const e=t.target.parentElement.parentElement.dataset.id;this.todoList.toggleIsTaskDone(Number(e)),this.renderTasks()}else if("delete"===t.target.className){const e=t.target.parentElement.parentElement.dataset.id;this.todoList.deleteTask(Number(e)),this.renderTasks()}}))}}})();